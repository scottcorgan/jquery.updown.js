/*
jquery.updown.js - v0.2.6 - 6/20/2013
jQuery plugin for keyboard navigating lists
Copyright (c) 2013 ; Licensed  
*/
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="updown",g={trigger:null,item:null,highlightClass:"ud-selected",startingIndex:0,onSelect:function(){}};e.prototype={init:function(){this._resetCurrentyKeyIdx(),this.$trigger=a(this.options.trigger),this.$element=a(this.element),this.$trigger.on("keyup",a.proxy(function(a){this._keySearchSelect(a),this._keySearchBlur(a),this._keyNavigate(a)},this))},_currentKeyNavSelected:null,_resetCurrentyKeyIdx:function(){this._currentKeyIdx=this.options.startingIndex-1},getListItems:function(){return this.$element.find(this.options.item)},toggleItemAsSelectedByIdx:function(b,c){return b!==d?this.getListItems().eq(b).toggleClass(this.options.highlightClass,c):a()},_keyNavigate:function(a){var b,c=!1;this._isDownKey(a)&&this.hasNextItem()&&(this._incrementCurrentKeyIdx(),c=!0,b=this._currentKeyIdx>0?this._currentKeyIdx-1:d),this._isUpKey(a)&&this.hasPreviousItem()&&(this._decrementCurrentKeyIdx(),c=!0,b=this._currentKeyIdx+1),c?(this.$element.find("."+this.options.highlightClass).removeClass(this.options.highlightClass),this._currentKeyNavSelected=this.toggleItemAsSelectedByIdx(this._currentKeyIdx,!0),this.toggleItemAsSelectedByIdx(b,!1)):this.reset()},hasNextItem:function(){return this._currentKeyIdx<this.getListItems().length},hasPreviousItem:function(){return this._currentKeyIdx-1>=0},_incrementCurrentKeyIdx:function(){this._currentKeyIdx+1<this.getListItems().length&&(this._currentKeyIdx+=1)},_decrementCurrentKeyIdx:function(){this._currentKeyIdx-1>=0&&(this._currentKeyIdx-=1)},_isDownKey:function(a){return 40===a.keyCode},_isUpKey:function(a){return 38===a.keyCode},_isEnterKey:function(a){return 13===a.keyCode},_isEscapeKey:function(a){return 27===a.keyCode},_keySearchSelect:function(a){if(this._isEnterKey(a)){var b=this.getListItems().eq(this._currentKeyIdx);this.options.onSelect.call(b,b),this._resetTrigger()}},_keySearchBlur:function(a){this._isEscapeKey(a)&&this._resetTrigger()},_resetTrigger:function(){this.$trigger.val("").blur(),this.reset()},reset:function(){return this._currentKeyNavSelected&&this._currentKeyNavSelected.removeClass(this.options.highlightClass),this._currentKeyNavSelected=null,this._resetCurrentyKeyIdx(),this}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);