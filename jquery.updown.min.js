/*
jquery.updown.js - v0.2.0 - 6/20/2013
jQuery plugin for keyboard navigating lists
Copyright (c) 2013 ; Licensed  
*/
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="updown",g={trigger:null,item:null,selectedClass:"selected",onSelect:function(){}};e.prototype={init:function(){this.$trigger=a(this.options.trigger),this.$element=a(this.element),this.$trigger.on("keyup",a.proxy(function(a){this._keySearchSelect(a),this._keySearchBlur(a),this._keyNavigate(a)},this))},_currentKeyIdx:-1,_currentKeyNavSelected:null,_resetCurrentyKeyIdx:function(){this._currentKeyIdx=-1},_getVisibleItems:function(){return this.$element.find(this.options.item+":visible")},_getItemByIndex:function(a){return this._getVisibleItems().eq(a)},_getNumberOfVisibleItems:function(){return this._getVisibleItems().length},_toggleItemAsSelectedByIdx:function(b,c){return b!==d?this._getItemByIndex(b).toggleClass(this.options.selectedClass,c):a()},_keyNavigate:function(a){var b,c=!1;this._isDownKey(a)&&this._hasNextItem()&&(this._incrementCurrentKeyIdx(),c=!0,b=this._currentKeyIdx>0?this._currentKeyIdx-1:d),this._isUpKey(a)&&this._hasPreviousItem()&&(this._decrementCurrentKeyIdx(),c=!0,b=this._currentKeyIdx+1),c?(this._currentKeyNavSelected=this._toggleItemAsSelectedByIdx(this._currentKeyIdx,!0),this._toggleItemAsSelectedByIdx(b,!1)):this.reset()},_hasNextItem:function(){return this._currentKeyIdx<this._getNumberOfVisibleItems()},_hasPreviousItem:function(){return this._currentKeyIdx-1>=0},_incrementCurrentKeyIdx:function(){this._currentKeyIdx+1<this._getNumberOfVisibleItems()&&(this._currentKeyIdx+=1)},_decrementCurrentKeyIdx:function(){this._currentKeyIdx-1>=0&&(this._currentKeyIdx-=1)},_isDownKey:function(a){return 40===a.keyCode},_isUpKey:function(a){return 38===a.keyCode},_isEnterKey:function(a){return 13===a.keyCode},_isEscapeKey:function(a){return 27===a.keyCode},_keySearchSelect:function(b){this._isEnterKey(b)&&(this.options.onSelect.call(this._currentKeyNavSelected,a(this._currentKeyNavSelected)),this._resetTrigger())},_keySearchBlur:function(a){this._isEscapeKey(a)&&this._resetTrigger()},_resetTrigger:function(){this.$trigger.val("").blur(),this.reset()},reset:function(){return this._currentKeyNavSelected&&this._currentKeyNavSelected.removeClass(this.options.selectedClass),this._currentKeyNavSelected=null,this._resetCurrentyKeyIdx(),this}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);